У функции есть 2 фазы жизненного цикла: cоздание функции (определение) и выполнение.
Выполнение делится на две фазы – вход в контекст выполнения, но до построчного выполнения кода
и само выполнение каждой строки.

Итак, каждый раз, когда происходит передача управления исполняемому коду ECMAScript-программы, осуществляется вход в контекст исполнения.

Логически, совокупность контекстов исполнения представляет собой стек. Дно этого стека — всегда глобальный контекст, верхушка — текущий (активный) контекст исполнения. Стек модифицируется (наполняется/очищается) по мере входа в различные виды EC.

Каждый возврат из функции завершает текущий контекст исполнения.

Так как, переменные связаны с контекстом исполнения, последний должен знать, где хранятся его данные и как их получить. Данный механизм называется Объектом переменных.

Объект переменных (Variable object, сокращённо VO) – это связанный с контекстом исполнения объект, служащий хранилищем для:
 - переменных (var);
 - деклараций функций (FunctionDeclaration, сокращённо FD);
 - формальных параметров функции
объявленных в данном контексте.

    activeExecutionContext = {
        VO: {
            // данные контекста (var, FD, параметры функций)
        }           
    };

Объект активации (Activation object, сокращённо AO) — специальный объект, который создаётся при входе в контекст функции и инициализируется свойством arguments

    AO = {
        arguments: {
            callee: ... , // ссылка на выполняемую функцию
            length: ... , // кол-во реально переданных параметров
            свойства-индексы
        }
    }

    ДЕТАЛИЗАЦИЯ ОБРАБОТКИ КОДА КОНТЕКСТА

Обработка кода контекста исполнения делится на два основных этапа:
 - Вход в контекст исполнения;
 - Непосредственно, интерпретация кода.
С этими двумя этапами тесно связана модификация объекта переменных.    

    ВХОД В КОНТЕКСТ ИСПОЛНЕНИЯ
При входе в контекст исполнения (но до построчного выполнения его кода), VO наполняется следующими свойствами:

для каждого формального параметра функции (если мы находимся в контексте исполнения функции)
 - создаётся свойство VO с именем и значением формального параметра; для непереданных параметров – создаётся свойство VO с именем формального параметра и значением undefined;

для каждой декларации функции (FunctionDeclaration, FD)
 - создаётся свойство VO, с именем функции и значением, являющимся ссылкой на объект-функцию; если в VO уже присутствовало свойство с таким именем, оно его значение и атрибуты заменяются значением функции;

для каждой переменной (var)
 - создаётся свойство VO с именем переменной, и значением undefined; если в VO уже присутствовало свойство с таким именем, оно остаётся нетронутым.


классический пример:

    alert(x); // function
    
    var x = 10;
    alert(x); // 10
    
    x = 20;
    
    function x() {}
    
    alert(x); // 20

Почему в первом выводе “x” — функция, да ещё и доступна до объявления? Почему не 10 и не 20? Потому что, согласно правилу – VO наполняется декларациями функций ещё при входе в контекст, там же, при входе, встречается объявление переменной “x”, но переменные в VO имеют более низкий приоритет, нежели декларации функций.